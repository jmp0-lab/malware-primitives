#include <Windows.h>
#include "misc.h"
#include "process-enumeration-enumprocesses-lib.h"


int main()
{
	BOOL bRet = FALSE;
	
	LPCWSTR szProcName = L"msedge.exe";
	DWORD pdwPid[1024] = { 0 };
	HANDLE phProcess[1024] = { 0 };
	DWORD dwProcesses = 1024;

	
	bRet = GetRemoteProcessHandleEnumProcesses(szProcName, pdwPid, phProcess, &dwProcesses);
	if (bRet)
	{
		for (INT i = 0; i < dwProcesses; ++i)
		{
			wprintf(L"%d ", pdwPid[i]);
		}

		wprintf(L"\n");
	}

	return 0;
}